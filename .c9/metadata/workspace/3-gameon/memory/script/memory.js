{"changed":true,"filter":false,"title":"memory.js","tooltip":"/3-gameon/memory/script/memory.js","value":"function MemoryGame(elementID, rows, cols) {\n    var pictureArray, flippedImages, tries, wrongTiles;\n    \n    /* root element */\n    this.root = document.getElementById(elementID);\n    var that = this;\n    \n    pictureArray = RandomGenerator.getPictureArray(rows, cols);\n    tries = 0;\n    \n    this.getPictureArray = function() {\n        return pictureArray;\n    };\n    \n    this.getRows = function() {\n        return rows;\n    };\n    \n    this.getCols = function() {\n        return cols;\n    };\n    \n    this.getTries = function() {\n        return tries;\n    };\n    \n    this.setTries = function(number) {\n        tries = number;\n    };\n    \n    this.startWrongTiles = function(memoryImage1, memoryImage2) {\n        wrongTiles = setTimeout(function() {\n            that.wrongTiles(memoryImage1, memoryImage2);\n        }, 1000);\n    };\n\n    this.stopWrongTiles = function() {\n        clearInterval(wrongTiles);\n    }\n\n    this.createApp();\n}\n\nMemoryGame.prototype.wrongTiles = function(memoryImage1, memoryImage2) {\n    memoryImage1.src = \"memory/pics/0.png\";\n    memoryImage2.src = \"memory/pics/0.png\";\n    memoryImage1.className = \"\";\n    memoryImage2.className = \"\";\n}\n\nMemoryGame.prototype.createApp = function() {\n    var appBody, header, appVersion, col, row, rowDiv, memoryImage;\n    var that = this;\n    \n    /* Section */\n    appBody = document.createElement(\"section\");\n    appBody.className = \"MemoryGame\";\n    this.root.appendChild(appBody);\n    \n    /* Header */\n    header = document.createElement(\"header\");\n    appVersion = document.createElement(\"p\");\n    appVersion.innerHTML = \"MEMORY GAME\";\n    header.appendChild(appVersion);\n    appBody.appendChild(header);\n    \n    /* Memory images */\n    for(row = 0; row < this.getRows(); row+=1) {\n        rowDiv = document.createElement(\"div\");\n        appBody.appendChild(rowDiv);\n        \n        for(col = 0; col < this.getCols(); col+=1) {\n            memoryImage = document.createElement(\"img\");\n            memoryImage.alt = \"Ett memory kort\";\n            memoryImage.title = \"Ett memory kort\";\n            memoryImage.src = \"memory/pics/0.png\";\n            /* Add the col and row to the image element so that we can easily get and use them later */\n            memoryImage.col = col;\n            memoryImage.row = row;\n            memoryImage.onclick = function(e) {\n                e.preventDefault();\n                if(this.className !== \"flipped\" && this.className !== \"complete\") {\n                    that.checkImage(this, (this.row * that.getCols() + this.col));\n                }\n                return false;\n            };\n            rowDiv.appendChild(memoryImage);\n        }\n    }\n};\n\nMemoryGame.prototype.checkImage = function(memoryImage, imgNumber) {\n    memoryImage.src = \"memory/pics/\" + this.getPictureArray()[imgNumber] + \".png\";\n    memoryImage.className = \"flipped\"; // Mark the tile so that we know it's been clicked\n    this.checkStatus(memoryImage);\n};\n\nMemoryGame.prototype.checkStatus = function(clickedImage) {\n    var memoryImage1, memoryImage2, i, flippedImages;\n    flippedImages = this.root.querySelectorAll(\".flipped\");\n    if(flippedImages.length == 2) {\n        this.setTries(this.getTries() + 1);\n        memoryImage1 = flippedImages[0];\n        memoryImage2 = flippedImages[1];\n        if(memoryImage1.src !== memoryImage2.src) {\n            this.startWrongTiles(memoryImage1, memoryImage2);\n        } else {\n            /* Mark the correct tiles so they can't be clicked again */\n            memoryImage1.className = \"complete\";\n            memoryImage2.className = \"complete\";\n            if(this.root.querySelectorAll(\".complete\").length === this.getPictureArray().length) {\n                this.gameEnd();\n            }\n        }\n    } else if(flippedImages.length > 2) { // If the timeinterval hasn't finished yet (which results in there being more than 2 images with the class \"flipped\")\n        this.stopWrongTiles();\n        var wrongTiles = [];\n        \n        /* Find the tiles that isn't the tile the player just clicked on */\n        for(i = 0; i < flippedImages.length; i+=1) {\n            if(flippedImages[i] !== clickedImage){\n                wrongTiles.push(flippedImages[i]); \n            }\n        }\n        this.wrongTiles(wrongTiles[0], wrongTiles[1]);\n    }\n};\n\nMemoryGame.prototype.gameEnd = function() {\n    alert(\"Du vann! Du använde dig av \" + this.getTries() + \" försök!\");\n};","undoManager":{"mark":-137,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":92,"column":87},"end":{"row":92,"column":88},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":88},"end":{"row":92,"column":89},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":50},"end":{"row":76,"column":0},"action":"insert","lines":["",""]},{"start":{"row":76,"column":0},"end":{"row":76,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":12},"end":{"row":76,"column":13},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":13},"end":{"row":76,"column":14},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":14},"end":{"row":76,"column":15},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":15},"end":{"row":76,"column":16},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":16},"end":{"row":76,"column":17},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":17},"end":{"row":76,"column":18},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":18},"end":{"row":76,"column":19},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":19},"end":{"row":76,"column":20},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":20},"end":{"row":76,"column":21},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":21},"end":{"row":76,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":22},"end":{"row":76,"column":23},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":23},"end":{"row":76,"column":24},"action":"insert","lines":["c"]},{"start":{"row":76,"column":24},"end":{"row":76,"column":25},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":25},"end":{"row":76,"column":26},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":26},"end":{"row":76,"column":27},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":27},"end":{"row":76,"column":28},"action":"insert","lines":["a"]},{"start":{"row":76,"column":28},"end":{"row":76,"column":29},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":29},"end":{"row":76,"column":30},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":30},"end":{"row":76,"column":31},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":31},"end":{"row":76,"column":32},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":32},"end":{"row":76,"column":33},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":33},"end":{"row":76,"column":34},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":34},"end":{"row":76,"column":35},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":35},"end":{"row":76,"column":36},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":36},"end":{"row":76,"column":37},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":37},"end":{"row":76,"column":38},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":38},"end":{"row":76,"column":39},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":39},"end":{"row":76,"column":40},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":40},"end":{"row":76,"column":41},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":41},"end":{"row":76,"column":42},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":42},"end":{"row":76,"column":43},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":43},"end":{"row":76,"column":44},"action":"insert","lines":["m"]},{"start":{"row":76,"column":44},"end":{"row":76,"column":45},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":45},"end":{"row":76,"column":46},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":46},"end":{"row":76,"column":47},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":47},"end":{"row":76,"column":48},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":48},"end":{"row":76,"column":49},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":49},"end":{"row":76,"column":50},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":50},"end":{"row":76,"column":51},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":51},"end":{"row":76,"column":52},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":52},"end":{"row":76,"column":53},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":53},"end":{"row":76,"column":54},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":54},"end":{"row":76,"column":55},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":55},"end":{"row":76,"column":56},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":56},"end":{"row":76,"column":57},"action":"insert","lines":["o"]},{"start":{"row":76,"column":57},"end":{"row":76,"column":58},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":58},"end":{"row":76,"column":59},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":59},"end":{"row":76,"column":60},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":60},"end":{"row":76,"column":61},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":61},"end":{"row":76,"column":62},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":62},"end":{"row":76,"column":63},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":63},"end":{"row":76,"column":64},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":64},"end":{"row":76,"column":65},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":65},"end":{"row":76,"column":66},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":66},"end":{"row":76,"column":67},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":67},"end":{"row":76,"column":68},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":68},"end":{"row":76,"column":69},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":69},"end":{"row":76,"column":70},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":70},"end":{"row":76,"column":71},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":71},"end":{"row":76,"column":72},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":72},"end":{"row":76,"column":73},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":73},"end":{"row":76,"column":74},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":74},"end":{"row":76,"column":75},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":75},"end":{"row":76,"column":76},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":76},"end":{"row":76,"column":77},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":76},"end":{"row":76,"column":77},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":75},"end":{"row":76,"column":76},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":75},"end":{"row":76,"column":76},"action":"insert","lines":["y"]},{"start":{"row":76,"column":76},"end":{"row":76,"column":77},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":77},"end":{"row":76,"column":78},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":78},"end":{"row":76,"column":79},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":79},"end":{"row":76,"column":80},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":80},"end":{"row":76,"column":81},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":81},"end":{"row":76,"column":82},"action":"insert","lines":["t"]},{"start":{"row":76,"column":82},"end":{"row":76,"column":83},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":83},"end":{"row":76,"column":84},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":84},"end":{"row":76,"column":85},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":85},"end":{"row":76,"column":86},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":86},"end":{"row":76,"column":87},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":87},"end":{"row":76,"column":88},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":88},"end":{"row":76,"column":89},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":89},"end":{"row":76,"column":90},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":90},"end":{"row":76,"column":91},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":91},"end":{"row":76,"column":92},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":92},"end":{"row":76,"column":93},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":93},"end":{"row":76,"column":94},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":53},"end":{"row":76,"column":54},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":52},"end":{"row":76,"column":53},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":51},"end":{"row":76,"column":52},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":50},"end":{"row":76,"column":51},"action":"remove","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":49},"end":{"row":76,"column":50},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":48},"end":{"row":76,"column":49},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":48},"end":{"row":76,"column":49},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":49},"end":{"row":76,"column":50},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":50},"end":{"row":76,"column":51},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":51},"end":{"row":76,"column":52},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":52},"end":{"row":76,"column":53},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":53},"end":{"row":76,"column":54},"action":"insert","lines":["n"]},{"start":{"row":76,"column":54},"end":{"row":76,"column":55},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":81},"end":{"row":76,"column":82},"action":"insert","lines":[" "]},{"start":{"row":76,"column":82},"end":{"row":76,"column":83},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":83},"end":{"row":76,"column":84},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":84},"end":{"row":76,"column":85},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":85},"end":{"row":76,"column":86},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":86},"end":{"row":76,"column":87},"action":"insert","lines":["u"]},{"start":{"row":76,"column":87},"end":{"row":76,"column":88},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":76,"column":88},"end":{"row":76,"column":89},"action":"insert","lines":["e"]}]}]]},"ace":{"folds":[],"scrolltop":1536.5,"scrollleft":0,"selection":{"start":{"row":76,"column":89},"end":{"row":76,"column":89},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":95,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1418908279583}